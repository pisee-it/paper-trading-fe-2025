<div class="register-page-container">
    <main class="hero-section">

        <div class="content-container">

            <div class="landing-message">
                <h1 class="main-headline">
                    Khởi đầu hành trình <br>
                    <span class="highlight-text">Đầu tư 4.0</span>
                </h1>
                <p class="sub-headline">
                    Tham gia cộng đồng PiSee Trading ngay hôm nay.
                    Tạo tài khoản miễn phí và nhận ngay <strong>$10,000</strong> tiền ảo để trải nghiệm thị trường thực
                    tế.
                </p>

                <div class="features-list">
                    <div class="feature-item">
                        <div class="icon-box"><i class="bi bi-rocket-takeoff"></i></div>
                        <div class="text">
                            <h6>Bắt đầu dễ dàng</h6>
                            <span>Đăng ký chỉ trong 30 giây</span>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="icon-box"><i class="bi bi-mortarboard"></i></div>
                        <div class="text">
                            <h6>Học tập miễn phí</h6>
                            <span>Truy cập kho tài liệu trading phong phú</span>
                        </div>
                    </div>
                    <div class="feature-item">
                        <div class="icon-box"><i class="bi bi-people"></i></div>
                        <div class="text">
                            <h6>Cộng đồng sôi động</h6>
                            <span>Trao đổi kiến thức với hàng ngàn nhà đầu tư</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="auth-card-wrapper">
                <section class="auth-card">
                    <header class="card-header">
                        <h1 class="welcome-text">Đăng ký tài khoản</h1>
                        <p class="sub-text">Bắt đầu hành trình đầu tư miễn phí</p>
                    </header>

                    <div *ngIf="errorMessage" class="alert alert-danger d-flex align-items-center mb-3" role="alert">
                        <i class="bi bi-exclamation-triangle-fill me-2"></i>
                        <div>{{ errorMessage }}</div>
                    </div>

                    <div *ngIf="successMessage" class="alert alert-success text-center p-4" role="alert">
                        <i class="bi bi-check-circle-fill display-4 mb-3 d-block text-success"></i>
                        <h4 class="alert-heading">Đăng ký thành công!</h4>
                        <p>{{ successMessage }}</p>
                        <hr>
                        <a routerLink="/login" class="btn btn-primary mt-2 w-100">Đăng nhập ngay</a>
                    </div>

                    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" *ngIf="!successMessage">
                        <div class="form-group">
                            <label for="fullName" class="form-label">Họ và Tên</label>
                            <div class="input-group">
                                <i class="bi bi-person-vcard input-icon"></i>
                                <input type="text" id="fullName" class="form-control" formControlName="fullName"
                                    placeholder="Nhập họ và tên đầy đủ"
                                    [class.is-invalid]="registerForm.get('fullName')?.invalid && registerForm.get('fullName')?.touched">
                            </div>
                            <small class="error-msg"
                                *ngIf="registerForm.get('fullName')?.invalid && registerForm.get('fullName')?.touched">
                                Vui lòng nhập họ tên hợp lệ.
                            </small>
                        </div>

                        <div class="form-group">
                            <label for="username" class="form-label">Tên đăng nhập</label>
                            <div class="input-group">
                                <i class="bi bi-person input-icon"></i>
                                <input type="text" id="username" class="form-control" formControlName="username"
                                    placeholder="Chọn tên đăng nhập"
                                    [class.is-invalid]="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">
                            </div>
                            <small class="error-msg"
                                *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">
                                Tên đăng nhập phải từ 3-20 ký tự.
                            </small>
                        </div>

                        <div class="form-group">
                            <label for="email" class="form-label">Email</label>
                            <div class="input-group">
                                <i class="bi bi-envelope input-icon"></i>
                                <input type="email" id="email" class="form-control" formControlName="email"
                                    placeholder="name@example.com"
                                    [class.is-invalid]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
                            </div>
                            <small class="error-msg"
                                *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
                                Định dạng email không hợp lệ.
                            </small>
                        </div>

                        <div class="form-group">
                            <label for="password" class="form-label">Mật khẩu</label>
                            <div class="input-group">
                                <i class="bi bi-lock input-icon"></i>
                                <input [type]="showPassword ? 'text' : 'password'" id="password" class="form-control"
                                    formControlName="password" placeholder="Tạo mật khẩu mạnh"
                                    [class.is-invalid]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">

                                <button type="button" class="btn-toggle-pass" (click)="togglePassword()">
                                    <i class="bi" [class.bi-eye-slash]="showPassword"
                                        [class.bi-eye]="!showPassword"></i>
                                </button>
                            </div>
                            <small class="error-msg"
                                *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
                                Mật khẩu phải có ít nhất 6 ký tự.
                            </small>
                        </div>

                        <button type="submit" class="btn-submit" [disabled]="registerForm.invalid || isLoading">
                            <span *ngIf="isLoading" class="spinner-border spinner-border-sm me-2"></span>
                            {{ isLoading ? 'Đang tạo tài khoản...' : 'Đăng ký ngay' }}
                        </button>

                        <div class="auth-divider">
                            <span>Hoặc tiếp tục với</span>
                        </div>

                        <div class="social-login-group">
                            <button type="button" class="btn-social">
                                <img src="https://www.svgrepo.com/show/475656/google-color.svg" alt="Google">
                            </button>

                            <button type="button" class="btn-social">
                                <img src="https://www.svgrepo.com/show/475647/facebook-color.svg" alt="Facebook">
                            </button>

                            <button type="button" class="btn-social">
                                <i class="bi bi-apple"></i>
                            </button>
                        </div>
                        <div class="register-prompt">
                            Đã có tài khoản? <a routerLink="/login">Đăng nhập tại đây</a>
                        </div>
                    </form>
                </section>
            </div>
        </div>
    </main>
</div>